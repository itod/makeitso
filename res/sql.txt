BEGIN TRANSACTION;

CREATE TABLE keys (
    nextID INTEGER PRIMARY KEY NOT NULL,
    name TEXT
);
INSERT INTO keys (nextID, name) VALUES (0, 'global');

{%for class in classes %}
CREATE TABLE {{class.name|lowercase}}
({%for field in class.fields %}
    {{field.name}} {{field.sqlTypeString}}{%if field.isPrimaryKey %} PRIMARY KEY NOT NULL{%elif field.isForeignKey%}{%/if%}{%if !currentLoop.isLast %},{%/if%}{%/for%}
);
{%/for%}

END TRANSACTION;